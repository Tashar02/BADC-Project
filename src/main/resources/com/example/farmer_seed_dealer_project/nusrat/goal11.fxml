<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<AnchorPane prefHeight="620.0" prefWidth="900.0"
            xmlns="http://javafx.com/javafx/8.0.171"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.farmer_seed_dealer_project.nusrat.Goal11Controller">
   <children>

      <!-- Header -->
      <Text layoutX="24.0" layoutY="45.0" text="Goal 11 — Apply for Dealership or Renewal">
         <font>
            <Font name="System Bold" size="24.0"/>
         </font>
      </Text>

      <!-- ScrollPane to contain the form -->
      <ScrollPane layoutX="24.0" layoutY="65.0" prefWidth="852.0" prefHeight="485.0"
                  fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED"
                  style="-fx-background-color: transparent;">
         <content>
            <VBox spacing="15.0">
               <padding>
                  <Insets top="10" right="20" bottom="10" left="10"/>
               </padding>

               <!-- OP: Display two options - New Dealership Application or Renew Existing Dealership -->
               <VBox spacing="10.0" style="-fx-background-color: #E3F2FD; -fx-padding: 15; -fx-background-radius: 8;">
                  <children>
                     <Label text="Select Application Type:">
                        <font><Font name="System Bold" size="16.0"/></font>
                     </Label>

                     <fx:define>
                        <ToggleGroup fx:id="applicationTypeGroup"/>
                     </fx:define>

                     <RadioButton fx:id="newDealershipRadio" text="New Dealership Application"
                                  toggleGroup="$applicationTypeGroup" selected="true">
                        <font><Font size="14.0"/></font>
                     </RadioButton>

                     <RadioButton fx:id="renewDealershipRadio" text="Renew Existing Dealership"
                                  toggleGroup="$applicationTypeGroup">
                        <font><Font size="14.0"/></font>
                     </RadioButton>

                     <!-- OP: Eligibility criteria and required documents -->
                     <TextArea fx:id="eligibilityInfoArea" editable="false" wrapText="true"
                               prefHeight="80.0" prefWidth="780.0"
                               style="-fx-background-color: white; -fx-border-color: #90CAF9; -fx-border-radius: 5;">
                     </TextArea>
                  </children>
               </VBox>

               <!-- Separator -->
               <Separator/>

               <!-- UID: Application Form -->
               <GridPane hgap="15.0" vgap="15.0" prefWidth="800.0">

                  <!-- Applicant Name -->
                  <Label text="Applicant Name: *" GridPane.columnIndex="0" GridPane.rowIndex="0">
                     <font><Font size="14.0"/></font>
                  </Label>
                  <TextField fx:id="applicantNameField" promptText="Enter full name" prefWidth="300.0"
                             GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                  <!-- Business Name -->
                  <Label text="Business Name: *" GridPane.columnIndex="0" GridPane.rowIndex="1">
                     <font><Font size="14.0"/></font>
                  </Label>
                  <TextField fx:id="businessNameField" promptText="Enter business/shop name" prefWidth="300.0"
                             GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                  <!-- License Number (for renewal only) -->
                  <Label fx:id="licenseNumberLabel" text="License Number: *"
                         GridPane.columnIndex="0" GridPane.rowIndex="2" visible="false">
                     <font><Font size="14.0"/></font>
                  </Label>
                  <TextField fx:id="licenseNumberField" promptText="Enter existing license number" prefWidth="300.0"
                             GridPane.columnIndex="1" GridPane.rowIndex="2" visible="false"/>

                  <!-- Business Category -->
                  <Label text="Business Category: *" GridPane.columnIndex="0" GridPane.rowIndex="3">
                     <font><Font size="14.0"/></font>
                  </Label>
                  <ComboBox fx:id="categoryCombo" promptText="Select category" prefWidth="300.0"
                            GridPane.columnIndex="1" GridPane.rowIndex="3"/>

                  <!-- District -->
                  <Label text="District: *" GridPane.columnIndex="0" GridPane.rowIndex="4">
                     <font><Font size="14.0"/></font>
                  </Label>
                  <ComboBox fx:id="districtCombo" promptText="Select district" prefWidth="300.0"
                            GridPane.columnIndex="1" GridPane.rowIndex="4"/>

                  <!-- Upazila -->
                  <Label text="Upazila: *" GridPane.columnIndex="0" GridPane.rowIndex="5">
                     <font><Font size="14.0"/></font>
                  </Label>
                  <ComboBox fx:id="upazilaCombo" promptText="Select upazila" prefWidth="300.0"
                            GridPane.columnIndex="1" GridPane.rowIndex="5"/>

                  <!-- Union -->
                  <Label text="Union:" GridPane.columnIndex="0" GridPane.rowIndex="6">
                     <font><Font size="14.0"/></font>
                  </Label>
                  <TextField fx:id="unionField" promptText="Enter union (optional)" prefWidth="300.0"
                             GridPane.columnIndex="1" GridPane.rowIndex="6"/>

                  <!-- Address -->
                  <Label text="Full Address: *" GridPane.columnIndex="0" GridPane.rowIndex="7">
                     <font><Font size="14.0"/></font>
                  </Label>
                  <TextArea fx:id="addressArea" promptText="Enter complete address" prefWidth="300.0" prefHeight="60.0"
                            GridPane.columnIndex="1" GridPane.rowIndex="7"/>

                  <!-- Contact Number -->
                  <Label text="Contact Number: *" GridPane.columnIndex="0" GridPane.rowIndex="8">
                     <font><Font size="14.0"/></font>
                  </Label>
                  <TextField fx:id="contactNumberField" promptText="e.g., 01712345678" prefWidth="300.0"
                             GridPane.columnIndex="1" GridPane.rowIndex="8"/>

                  <!-- Email -->
                  <Label text="Email Address: *" GridPane.columnIndex="0" GridPane.rowIndex="9">
                     <font><Font size="14.0"/></font>
                  </Label>
                  <TextField fx:id="emailField" promptText="e.g., dealer@example.com" prefWidth="300.0"
                             GridPane.columnIndex="1" GridPane.rowIndex="9"/>

                  <!-- NID Number -->
                  <Label text="NID Number: *" GridPane.columnIndex="0" GridPane.rowIndex="10">
                     <font><Font size="14.0"/></font>
                  </Label>
                  <TextField fx:id="nidNumberField" promptText="Enter NID number" prefWidth="300.0"
                             GridPane.columnIndex="1" GridPane.rowIndex="10"/>

               </GridPane>

               <!-- Separator -->
               <Separator/>

               <!-- UID: Document Upload Section -->
               <VBox spacing="10.0" style="-fx-background-color: #FFF3E0; -fx-padding: 15; -fx-background-radius: 8;">
                  <children>
                     <Label text="Upload Required Documents:">
                        <font><Font name="System Bold" size="15.0"/></font>
                     </Label>

                     <!-- Trade License -->
                     <HBox spacing="10.0" alignment="CENTER_LEFT">
                        <children>
                           <Label text="Trade License: *" prefWidth="200.0">
                              <font><Font size="13.0"/></font>
                           </Label>
                           <TextField fx:id="tradeLicensePathField" promptText="No file selected"
                                      editable="false" prefWidth="350.0"/>
                           <Button text="Choose File" onAction="#onChooseTradeLicense"
                                   style="-fx-background-color: #2196F3; -fx-text-fill: white;"
                                   prefWidth="110.0"/>
                           <Button fx:id="clearTradeLicenseBtn" text="Clear" onAction="#onClearTradeLicense"
                                   style="-fx-background-color: #757575; -fx-text-fill: white;"
                                   prefWidth="70.0" visible="false"/>
                        </children>
                     </HBox>

                     <!-- NID Copy -->
                     <HBox spacing="10.0" alignment="CENTER_LEFT">
                        <children>
                           <Label text="NID Copy: *" prefWidth="200.0">
                              <font><Font size="13.0"/></font>
                           </Label>
                           <TextField fx:id="nidCopyPathField" promptText="No file selected"
                                      editable="false" prefWidth="350.0"/>
                           <Button text="Choose File" onAction="#onChooseNIDCopy"
                                   style="-fx-background-color: #2196F3; -fx-text-fill: white;"
                                   prefWidth="110.0"/>
                           <Button fx:id="clearNIDCopyBtn" text="Clear" onAction="#onClearNIDCopy"
                                   style="-fx-background-color: #757575; -fx-text-fill: white;"
                                   prefWidth="70.0" visible="false"/>
                        </children>
                     </HBox>

                     <!-- Business Premises Photo -->
                     <HBox spacing="10.0" alignment="CENTER_LEFT">
                        <children>
                           <Label text="Business Premises Photo: *" prefWidth="200.0">
                              <font><Font size="13.0"/></font>
                           </Label>
                           <TextField fx:id="premisesPhotoPathField" promptText="No file selected"
                                      editable="false" prefWidth="350.0"/>
                           <Button text="Choose File" onAction="#onChoosePremisesPhoto"
                                   style="-fx-background-color: #2196F3; -fx-text-fill: white;"
                                   prefWidth="110.0"/>
                           <Button fx:id="clearPremisesPhotoBtn" text="Clear" onAction="#onClearPremisesPhoto"
                                   style="-fx-background-color: #757575; -fx-text-fill: white;"
                                   prefWidth="70.0" visible="false"/>
                        </children>
                     </HBox>

                     <!-- Bank Statement -->
                     <HBox spacing="10.0" alignment="CENTER_LEFT">
                        <children>
                           <Label text="Bank Statement:" prefWidth="200.0">
                              <font><Font size="13.0"/></font>
                           </Label>
                           <TextField fx:id="bankStatementPathField" promptText="No file selected (optional)"
                                      editable="false" prefWidth="350.0"/>
                           <Button text="Choose File" onAction="#onChooseBankStatement"
                                   style="-fx-background-color: #2196F3; -fx-text-fill: white;"
                                   prefWidth="110.0"/>
                           <Button fx:id="clearBankStatementBtn" text="Clear" onAction="#onClearBankStatement"
                                   style="-fx-background-color: #757575; -fx-text-fill: white;"
                                   prefWidth="70.0" visible="false"/>
                        </children>
                     </HBox>

                     <!-- Previous License (for renewal) -->
                     <HBox fx:id="previousLicenseBox" spacing="10.0" alignment="CENTER_LEFT" visible="false">
                        <children>
                           <Label text="Previous License Copy: *" prefWidth="200.0">
                              <font><Font size="13.0"/></font>
                           </Label>
                           <TextField fx:id="previousLicensePathField" promptText="No file selected"
                                      editable="false" prefWidth="350.0"/>
                           <Button text="Choose File" onAction="#onChoosePreviousLicense"
                                   style="-fx-background-color: #2196F3; -fx-text-fill: white;"
                                   prefWidth="110.0"/>
                           <Button fx:id="clearPreviousLicenseBtn" text="Clear" onAction="#onClearPreviousLicense"
                                   style="-fx-background-color: #757575; -fx-text-fill: white;"
                                   prefWidth="70.0" visible="false"/>
                        </children>
                     </HBox>

                  </children>
               </VBox>

               <!-- VL: Validation Message -->
               <Label fx:id="validationLabel" text="" textFill="RED" wrapText="true">
                  <font><Font size="12.0"/></font>
               </Label>

               <!-- Action Buttons -->
               <HBox spacing="15.0" alignment="CENTER_LEFT">
                  <children>
                     <Button text="Submit Application" onAction="#onSubmitApplication"
                             style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-size: 14px;"
                             prefWidth="180.0" prefHeight="35.0"/>
                     <Button text="Save as Draft" onAction="#onSaveAsDraft"
                             style="-fx-background-color: #FF9800; -fx-text-fill: white; -fx-font-size: 14px;"
                             prefWidth="140.0" prefHeight="35.0"/>
                     <Button text="Clear Form" onAction="#onClearForm"
                             style="-fx-background-color: #757575; -fx-text-fill: white; -fx-font-size: 14px;"
                             prefWidth="120.0" prefHeight="35.0"/>
                  </children>
               </HBox>

               <!-- OP: Confirmation Message Area (hidden by default) -->
               <VBox fx:id="confirmationBox" spacing="10.0" visible="false"
                     style="-fx-background-color: #C8E6C9; -fx-padding: 15; -fx-background-radius: 8;">
                  <children>
                     <Label text="✓ Application Submitted Successfully!">
                        <font><Font name="System Bold" size="16.0" /></font>
                     </Label>
                     <Label fx:id="applicationIdLabel" text="Application ID: ">
                        <font><Font size="13.0"/></font>
                     </Label>
                     <Label fx:id="submissionDateLabel" text="Submission Date: ">
                        <font><Font size="13.0"/></font>
                     </Label>
                     <Label text="Next Steps:">
                        <font><Font name="System Bold" size="13.0"/></font>
                     </Label>
                     <TextArea fx:id="nextStepsArea" editable="false" wrapText="true" prefHeight="70.0"
                               style="-fx-background-color: white;"/>
                     <Label text="For inquiries, contact: BADC Support - 09678000123 | badc@gov.bd">
                        <font><Font size="12.0" /></font>
                     </Label>
                  </children>
               </VBox>

            </VBox>
         </content>
      </ScrollPane>

      <!-- Navigation Buttons - Fixed at bottom -->
      <HBox layoutX="24.0" layoutY="570.0" spacing="10.0"
            AnchorPane.bottomAnchor="15.0" AnchorPane.leftAnchor="24.0">
         <children>
            <Button text="← Back to Dashboard" onAction="#onBackToDashboard"
                    style="-fx-font-size: 13px;" prefWidth="160.0" prefHeight="30.0"/>
            <Button text="View My Applications" onAction="#onViewMyApplications"
                    style="-fx-font-size: 13px;" prefWidth="170.0" prefHeight="30.0"/>
         </children>
      </HBox>

   </children>
</AnchorPane>
