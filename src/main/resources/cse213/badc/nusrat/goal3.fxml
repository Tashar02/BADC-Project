<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.text.Text?>

<AnchorPane prefHeight="620.0" prefWidth="900.0"
            xmlns="http://javafx.com/javafx/23.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="cse213.badc.nusrat.Goal3Controller">

   <!-- Toggle group for Rent / Purchase -->
   <fx:define>
      <ToggleGroup fx:id="modeGroup"/>
   </fx:define>

   <!-- Title -->
   <Text layoutX="240.0" layoutY="40.0" text="Irrigation Pump Services">
      <font><Font name="System Bold" size="26.0"/></font>
   </Text>
   <Label layoutX="242.0" layoutY="50.0" text="Learn &amp; proceed with rental or purchase procedures"/>

   <!-- Mode choice -->
   <Text layoutX="40.0" layoutY="100.0" text="Choose an option">
      <font><Font name="System Bold" size="13.0"/></font>
   </Text>
   <RadioButton fx:id="rentRadio"     layoutX="40.0"  layoutY="110.0" text="Rent a Pump"     toggleGroup="$modeGroup" onAction="#onModeChanged"/>
   <RadioButton fx:id="purchaseRadio" layoutX="160.0" layoutY="110.0" text="Purchase a Pump" toggleGroup="$modeGroup" onAction="#onModeChanged"/>

   <Label layoutX="40.0" layoutY="135.0" prefWidth="400.0"
          text="Rent: temporary use with daily/seasonal rates â€¢ Purchase: full ownership"/>

   <!-- User details -->
   <Text layoutX="40.0" layoutY="175.0" text="Farmer Details">
      <font><Font name="System Bold" size="13.0"/></font>
   </Text>

   <!-- Row 1: Name and Farmer ID -->
   <Text layoutX="40.0" layoutY="200.0" text="Name"/>
   <TextField fx:id="nameField" layoutX="40.0" layoutY="210.0" prefWidth="220.0" promptText="Your name"/>
   <Label fx:id="nameError" layoutX="40.0" layoutY="238.0" textFill="#c0392b"/>

   <Text layoutX="280.0" layoutY="200.0" text="Farmer ID"/>
   <TextField fx:id="farmerIdField" layoutX="280.0" layoutY="210.0" prefWidth="180.0" promptText="e.g., F-12345"/>
   <Label fx:id="farmerIdError" layoutX="280.0" layoutY="238.0" textFill="#c0392b"/>

   <Text layoutX="480.0" layoutY="200.0" text="District"/>
   <ComboBox fx:id="districtCombo" layoutX="480.0" layoutY="210.0" prefWidth="180.0" promptText="Select district"/>
   <Label fx:id="districtError" layoutX="480.0" layoutY="238.0" textFill="#c0392b"/>

   <Text layoutX="680.0" layoutY="200.0" text="Upazila"/>
   <ComboBox fx:id="upazilaCombo" layoutX="680.0" layoutY="210.0" prefWidth="180.0" promptText="Select upazila"/>
   <Label fx:id="upazilaError" layoutX="680.0" layoutY="238.0" textFill="#c0392b"/>

   <!-- Row 2: Irrigation area and load button -->
   <Text layoutX="40.0" layoutY="275.0" text="Irrigation Area (acres)"/>
   <TextField fx:id="areaField" layoutX="40.0" layoutY="285.0" prefWidth="180.0" promptText="e.g., 2.0"/>
   <Label fx:id="areaError" layoutX="40.0" layoutY="313.0" textFill="#c0392b"/>

   <Button layoutX="240.0" layoutY="285.0" text="Load Nearby Options" onAction="#onLoadOptions" prefWidth="170.0"/>
   <Label fx:id="loadMsg" layoutX="430.0" layoutY="289.0" textFill="#7f8c8d"/>

   <!-- Results table -->
   <Text layoutX="40.0" layoutY="355.0" text="Available Pumps">
      <font><Font name="System Bold" size="13.0"/></font>
   </Text>

   <TableView fx:id="pumpsTable" layoutX="40.0" layoutY="365.0" prefHeight="170.0" prefWidth="820.0">
      <columns>
         <TableColumn fx:id="colPumpId"       prefWidth="100.0"  text="Pump ID"/>
         <TableColumn fx:id="colPumpType"     prefWidth="130.0" text="Type"/>
         <TableColumn fx:id="colCapacity"     prefWidth="110.0" text="Capacity"/>
         <TableColumn fx:id="colRatePrice"    prefWidth="120.0" text="Rate/Price"/>
         <TableColumn fx:id="colDealer"       prefWidth="140.0" text="Dealer"/>
         <TableColumn fx:id="colContact"      prefWidth="110.0"  text="Contact"/>
         <TableColumn fx:id="colAvailability" prefWidth="110.0" text="Availability"/>
      </columns>
   </TableView>

   <!-- Action buttons -->
   <Button layoutX="40.0"  layoutY="555.0" text="Select &amp; Submit Request" onAction="#onSubmitRequest" prefWidth="180.0"/>
   <Button layoutX="240.0" layoutY="555.0" text="Clear Form" onAction="#onClearForm" prefWidth="120.0"/>
   <Label  fx:id="submitMsg" layoutX="380.0" layoutY="559.0" textFill="#2980b9"/>
   <Label  fx:id="validationMsg" layoutX="380.0" layoutY="543.0" textFill="#c0392b"/>

   <!-- Bottom navigation -->
   <Button layoutX="680.0" layoutY="555.0" text="Back to Dashboard" onAction="#onBackToDashboard" prefWidth="180.0"/>

</AnchorPane>
