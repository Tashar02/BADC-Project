<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<AnchorPane prefHeight="620.0" prefWidth="900.0"
            xmlns="http://javafx.com/javafx/8.0.171"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="cse213.badc.nusrat.Goal10Controller">
   <children>

      <!-- Header -->
      <Text layoutX="24.0" layoutY="45.0" text="Dealer List &amp; Renewal Decisions">
         <font>
            <Font name="System Bold" size="24.0"/>
         </font>
      </Text>

      <!-- Search and Filter Section -->
      <HBox layoutX="24.0" layoutY="60.0" spacing="15.0" alignment="CENTER_LEFT">
         <children>
            <!-- Search Field -->
            <VBox spacing="5.0">
               <children>
                  <Label text="Search:">
                     <font><Font size="12.0"/></font>
                  </Label>
                  <TextField fx:id="searchField" promptText="Search by name, district, ID..." prefWidth="250.0"/>
               </children>
            </VBox>

            <!-- District Filter -->
            <VBox spacing="5.0">
               <children>
                  <Label text="District:">
                     <font><Font size="12.0"/></font>
                  </Label>
                  <ComboBox fx:id="districtFilter" promptText="All Districts" prefWidth="150.0"/>
               </children>
            </VBox>

            <!-- Status Filter -->
            <VBox spacing="5.0">
               <children>
                  <Label text="Renewal Status:">
                     <font><Font size="12.0"/></font>
                  </Label>
                  <ComboBox fx:id="statusFilter" promptText="All Status" prefWidth="150.0"/>
               </children>
            </VBox>

            <!-- Category Filter -->
            <VBox spacing="5.0">
               <children>
                  <Label text="Category:">
                     <font><Font size="12.0"/></font>
                  </Label>
                  <ComboBox fx:id="categoryFilter" promptText="All Categories" prefWidth="150.0"/>
               </children>
            </VBox>

            <!-- Action Buttons -->
            <VBox spacing="5.0">
               <children>
                  <Label text=" ">
                     <font><Font size="12.0"/></font>
                  </Label>
                  <HBox spacing="8.0">
                     <children>
                        <Button text="Apply" onAction="#onApplyFilters"
                                style="-fx-background-color: #2196F3; -fx-text-fill: white;"
                                prefWidth="70.0"/>
                        <Button text="Reset" onAction="#onResetFilters"
                                style="-fx-background-color: #757575; -fx-text-fill: white;"
                                prefWidth="70.0"/>
                     </children>
                  </HBox>
               </children>
            </VBox>
         </children>
      </HBox>

      <!-- Validation/Status Message -->
      <Label fx:id="filterValidationLabel" layoutX="24.0" layoutY="140.0" text="" textFill="RED">
         <font><Font size="11.0"/></font>
      </Label>

      <!-- TableView for Dealer List -->
      <TableView fx:id="dealerTableView" layoutX="24.0" layoutY="150.0"
                 prefWidth="852.0" prefHeight="360.0">
         <columns>
            <TableColumn fx:id="dealerIdColumn" text="Dealer ID" prefWidth="90.0"/>
            <TableColumn fx:id="nameColumn" text="Name" prefWidth="150.0"/>
            <TableColumn fx:id="districtColumn" text="District" prefWidth="110.0"/>
            <TableColumn fx:id="upazilaColumn" text="Upazila" prefWidth="110.0"/>
            <TableColumn fx:id="categoryColumn" text="Category" prefWidth="100.0"/>
            <TableColumn fx:id="statusColumn" text="Status" prefWidth="100.0"/>
            <TableColumn fx:id="validityColumn" text="Validity Period" prefWidth="150.0"/>
            <TableColumn fx:id="actionColumn" text="Action" prefWidth="140.0"/>
         </columns>
         <placeholder>
            <Label text="No dealer records found. Click 'Load Data' to fetch dealer information."/>
         </placeholder>
      </TableView>

      <!-- Pagination Control -->
      <Pagination fx:id="dealerPagination" layoutX="24.0" layoutY="515.0"
                  prefWidth="852.0" maxPageIndicatorCount="10"/>

      <!-- Action Buttons Section -->
      <HBox layoutX="24.0" layoutY="565.0" spacing="12.0" alignment="CENTER_LEFT">
         <children>
            <Button text="Load Data" onAction="#onLoadDealerData"
                    style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-size: 13px;"
                    prefWidth="110.0" prefHeight="30.0"/>
            <Button text="View Details" onAction="#onViewDealerDetails"
                    style="-fx-background-color: #2196F3; -fx-text-fill: white; -fx-font-size: 13px;"
                    prefWidth="110.0" prefHeight="30.0"/>
            <Button text="Download Certificate" onAction="#onDownloadCertificate"
                    style="-fx-background-color: #FF9800; -fx-text-fill: white; -fx-font-size: 13px;"
                    prefWidth="160.0" prefHeight="30.0"/>
            <Button text="Send Notification" onAction="#onSendNotification"
                    style="-fx-background-color: #9C27B0; -fx-text-fill: white; -fx-font-size: 13px;"
                    prefWidth="140.0" prefHeight="30.0"/>
            <Button text="Export Report" onAction="#onExportReport"
                    style="-fx-background-color: #00BCD4; -fx-text-fill: white; -fx-font-size: 13px;"
                    prefWidth="120.0" prefHeight="30.0"/>
         </children>
      </HBox>

      <!-- Navigation Buttons - Fixed at bottom -->
      <HBox layoutX="24.0" layoutY="570.0" spacing="10.0"
            AnchorPane.bottomAnchor="15.0" AnchorPane.leftAnchor="24.0">
         <children>
            <Button text="â† Back to Dashboard" onAction="#onBackToDashboard"
                    style="-fx-font-size: 13px;" prefWidth="160.0" prefHeight="30.0"/>
         </children>
      </HBox>

   </children>
</AnchorPane>
