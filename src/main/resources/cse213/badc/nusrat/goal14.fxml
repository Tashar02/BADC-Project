<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<AnchorPane prefHeight="620.0" prefWidth="900.0"
            xmlns="http://javafx.com/javafx/8.0.171"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="cse213.badc.nusrat.Goal14Controller">
   <children>

      <!-- Header -->
      <Text layoutX="24.0" layoutY="45.0" text="Government Circulars &amp; Dealer Regulations">
         <font>
            <Font name="System Bold" size="24.0"/>
         </font>
      </Text>

      <!-- Search Section -->
      <HBox layoutX="24.0" layoutY="60.0" spacing="10.0" alignment="CENTER_LEFT">
         <children>
            <Label text="Search:">
               <font><Font size="13.0"/></font>
            </Label>
            <TextField fx:id="searchField" promptText="Enter keyword to search circulars..."
                       prefWidth="400.0"/>
            <Button text="Search" onAction="#onSearch"
                    style="-fx-background-color: #2196F3; -fx-text-fill: white;"
                    prefWidth="80.0"/>
            <Button text="Clear" onAction="#onClearSearch"
                    style="-fx-background-color: #757575; -fx-text-fill: white;"
                    prefWidth="70.0"/>
         </children>
      </HBox>

      <!-- Main Content Area -->
      <HBox layoutX="24.0" layoutY="100.0" spacing="15.0" prefWidth="852.0" prefHeight="450.0">

         <!-- Left Side: Categories -->
         <VBox spacing="10.0" prefWidth="220.0">
            <children>
               <Label text="Categories:">
                  <font><Font name="System Bold" size="14.0"/></font>
               </Label>

               <!-- Category Buttons -->
               <Button fx:id="allCategoriesBtn" text="All Circulars" onAction="#onSelectAllCategories"
                       style="-fx-background-color: #2196F3; -fx-text-fill: white; -fx-alignment: CENTER_LEFT;"
                       prefWidth="220.0" prefHeight="35.0"/>
               <Button fx:id="dealerConductBtn" text="Dealer Conduct" onAction="#onSelectDealerConduct"
                       style="-fx-alignment: CENTER_LEFT;"
                       prefWidth="220.0" prefHeight="35.0"/>
               <Button fx:id="distributionPoliciesBtn" text="Distribution Policies" onAction="#onSelectDistributionPolicies"
                       style="-fx-alignment: CENTER_LEFT;"
                       prefWidth="220.0" prefHeight="35.0"/>
               <Button fx:id="complianceGuidelinesBtn" text="Compliance Guidelines" onAction="#onSelectComplianceGuidelines"
                       style="-fx-alignment: CENTER_LEFT;"
                       prefWidth="220.0" prefHeight="35.0"/>
               <Button fx:id="penaltiesBtn" text="Penalties &amp; Violations" onAction="#onSelectPenalties"
                       style="-fx-alignment: CENTER_LEFT;"
                       prefWidth="220.0" prefHeight="35.0"/>
               <Button fx:id="pricingBtn" text="Pricing Regulations" onAction="#onSelectPricing"
                       style="-fx-alignment: CENTER_LEFT;"
                       prefWidth="220.0" prefHeight="35.0"/>

               <Separator/>

               <Label text="Quick Filters:">
                  <font><Font name="System Bold" size="13.0"/></font>
               </Label>
               <CheckBox fx:id="recentOnlyCheckbox" text="Recent Only (30 days)" onAction="#onApplyFilters">
                  <font><Font size="12.0"/></font>
               </CheckBox>
               <CheckBox fx:id="importantOnlyCheckbox" text="Important Only" onAction="#onApplyFilters">
                  <font><Font size="12.0"/></font>
               </CheckBox>
            </children>
         </VBox>

         <!-- Right Side: Circular List -->
         <ScrollPane prefWidth="617.0" prefHeight="450.0"
                     fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED">
            <content>
               <VBox fx:id="circularsContainer" spacing="12.0">
                  <padding>
                     <Insets top="5" right="10" bottom="5" left="5"/>
                  </padding>

                  <!-- VL: Validation Message -->
                  <Label fx:id="validationLabel" text="" textFill="RED" wrapText="true" visible="false">
                     <font><Font size="12.0"/></font>
                  </Label>

                  <!-- OP: Circulars will be dynamically loaded here -->
                  <Label fx:id="noResultsLabel" text="No circulars found matching your criteria."
                         visible="false" style="-fx-text-fill: #888;">
                     <font><Font size="13.0"/></font>
                  </Label>

               </VBox>
            </content>
         </ScrollPane>

      </HBox>

      <!-- Navigation Buttons - Fixed at bottom -->
      <HBox layoutX="24.0" layoutY="570.0" spacing="10.0"
            AnchorPane.bottomAnchor="15.0" AnchorPane.leftAnchor="24.0">
         <children>
            <Button text="â† Back to Dashboard" onAction="#onBackToDashboard"
                    style="-fx-font-size: 13px;" prefWidth="160.0" prefHeight="30.0"/>
            <Button text="Download All" onAction="#onDownloadAll"
                    style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-size: 13px;"
                    prefWidth="130.0" prefHeight="30.0"/>
            <Button text="Subscribe Updates" onAction="#onSubscribeUpdates"
                    style="-fx-font-size: 13px;" prefWidth="150.0" prefHeight="30.0"/>
         </children>
      </HBox>

   </children>
</AnchorPane>
