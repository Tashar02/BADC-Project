<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.text.Text?>

<AnchorPane prefHeight="620.0" prefWidth="900.0"
            xmlns="http://javafx.com/javafx/23.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="cse213.badc.nusrat.Goal2Controller">

   <!-- Title -->
   <Text layoutX="220.0" layoutY="40.0" text="Irrigation Support Application">
      <font><Font name="System Bold" size="26.0"/></font>
   </Text>
   <Label layoutX="222.0" layoutY="50.0" text="Apply online for BADC irrigation assistance"/>

   <!-- Server lists control -->
   <Button layoutX="740.0" layoutY="82.0" text="Load Server Lists" onAction="#onLoadServerLists" />
   <Label  fx:id="loadMsgLabel" layoutX="580.0" layoutY="86.0" textFill="#7f8c8d"/>

   <!-- Location (read-only display, fetched from profile) -->
   <Text layoutX="30.0" layoutY="105.0" text="Location">
      <font><Font name="System Bold" size="13.0"/></font>
   </Text>
   <Label fx:id="districtLabel" layoutX="100.0" layoutY="105.0" text="District: —"/>
   <Label fx:id="upazilaLabel"  layoutX="220.0" layoutY="105.0" text="Upazila: —"/>
   <Label fx:id="unionLabel"    layoutX="330.0" layoutY="105.0" text="Union: —"/>

   <!-- Irrigation Type -->
   <Text layoutX="30.0" layoutY="150.0" text="Irrigation Type">
      <font><Font name="System Bold" size="13.0"/></font>
   </Text>
   <ComboBox fx:id="irrigationTypeCombo" layoutX="30.0" layoutY="160.0" prefWidth="260.0" promptText="Deep Tube Well / Pump / Canal"/>
   <Label fx:id="irrigationTypeError" layoutX="300.0" layoutY="164.0" textFill="#c0392b"/>

   <!-- Water Source -->
   <Text layoutX="30.0" layoutY="210.0" text="Water Source (per Union)">
      <font><Font name="System Bold" size="13.0"/></font>
   </Text>
   <ComboBox fx:id="waterSourceCombo" layoutX="30.0" layoutY="220.0" prefWidth="260.0" promptText="Select source"/>
   <Label fx:id="waterSourceMsg" layoutX="300.0" layoutY="224.0" textFill="#7f8c8d"/>

   <!-- Schedule Slot -->
   <Text layoutX="30.0" layoutY="270.0" text="Schedule / Time Slot">
      <font><Font name="System Bold" size="13.0"/></font>
   </Text>
   <ComboBox fx:id="scheduleSlotCombo" layoutX="30.0" layoutY="280.0" prefWidth="260.0" promptText="Select slot"/>
   <Label fx:id="scheduleMsg" layoutX="300.0" layoutY="284.0" textFill="#7f8c8d"/>

   <!-- Cultivation Area -->
   <Text layoutX="350.0" layoutY="150.0" text="Cultivation Area (acres)">
      <font><Font name="System Bold" size="13.0"/></font>
   </Text>
   <TextField fx:id="cultivationAreaField" layoutX="350.0" layoutY="160.0" prefWidth="190.0" promptText="e.g., 2.5"/>
   <Label fx:id="areaError" layoutX="550.0" layoutY="164.0" textFill="#c0392b"/>

   <!-- Preferred Start Date -->
   <Text layoutX="350.0" layoutY="210.0" text="Preferred Start Date (YYYY-MM-DD)">
      <font><Font name="System Bold" size="13.0"/></font>
   </Text>
   <DatePicker fx:id="preferredStartDatePicker" layoutX="350.0" layoutY="220.0" prefWidth="220.0"/>
   <Label fx:id="dateError" layoutX="580.0" layoutY="224.0" textFill="#c0392b"/>

   <!-- Contact Info -->
   <Text layoutX="350.0" layoutY="270.0" text="Contact Info">
      <font><Font name="System Bold" size="13.0"/></font>
   </Text>
   <TextField fx:id="phoneField" layoutX="350.0" layoutY="280.0" prefWidth="200.0" promptText="Phone (11 digits)"/>
   <TextField fx:id="emailField" layoutX="560.0" layoutY="280.0" prefWidth="280.0" promptText="Email"/>
   <Label fx:id="phoneError" layoutX="350.0" layoutY="310.0" textFill="#c0392b"/>
   <Label fx:id="emailMsg"   layoutX="560.0" layoutY="310.0" textFill="#7f8c8d"/>

   <!-- Remarks -->
   <Text layoutX="30.0" layoutY="340.0" text="Remarks (optional)">
      <font><Font name="System Bold" size="13.0"/></font>
   </Text>
   <TextArea fx:id="remarksArea" layoutX="30.0" layoutY="350.0" prefHeight="80.0" prefWidth="400.0" promptText="Any special requests…"/>

   <!-- Actions -->
   <Button layoutX="450.0" layoutY="350.0" text="Validate" onAction="#onValidate"/>
   <Button layoutX="540.0" layoutY="350.0" text="Submit Application" onAction="#onSubmitApplication"/>
   <Button layoutX="700.0" layoutY="350.0" text="Track Application" onAction="#onTrackApplication"/>
   <Label  fx:id="submitMsg" layoutX="450.0" layoutY="385.0" textFill="#2980b9"/>

   <!-- My Applications (simple list) -->
   <Text layoutX="30.0" layoutY="440.0" text="My Applications">
      <font><Font name="System Bold" size="13.0"/></font>
   </Text>
   <TableView fx:id="applicationsTable" layoutX="30.0" layoutY="450.0" prefHeight="100.0" prefWidth="760.0">
      <columns>
         <TableColumn fx:id="colAppId"   prefWidth="170.0"  text="App ID"/>
         <TableColumn fx:id="colAppDate" prefWidth="170.0"  text="Date"/>
         <TableColumn fx:id="colAppType" prefWidth="200.0"  text="Type"/>
         <TableColumn fx:id="colStatus"  prefWidth="220.0" text="Status"/>
      </columns>
   </TableView>
   <Button layoutX="810.0" layoutY="450.0" text="↻" onAction="#onRefreshMyApplications" />

   <!-- Back / Apply Another (moved to bottom) -->
   <Button layoutX="30.0"  layoutY="570.0" text="Back to Dashboard" onAction="#onBackToDashboard"/>
   <Button layoutX="752.0" layoutY="570.0" text="Apply Another"     onAction="#onApplyAnother"/>

</AnchorPane>
